<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soviet Desk - Political Regime Simulator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <!-- 3D Desk Background -->
        <div id="desk-view">
            <canvas id="desk-canvas"></canvas>
            
            <!-- Interactive Objects on Desk -->
            <div id="desk-objects">
                <!-- Telephone -->
                <div class="desk-object telephone" id="telephone" title="Telephone: Answer calls from factions">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <rect x="20" y="30" width="60" height="40" rx="10" fill="#333" stroke="#ddd" stroke-width="2"/>
                        <circle cx="35" cy="50" r="4" fill="#666"/>
                        <circle cx="50" cy="50" r="4" fill="#666"/>
                        <circle cx="65" cy="50" r="4" fill="#666"/>
                        <path d="M 40 70 Q 50 80 60 70" stroke="#ddd" stroke-width="2" fill="none"/>
                    </svg>
                </div>
                
                <!-- Dossiers Stack -->
                <div class="desk-object dossiers-stack" id="dossiers-stack" title="Dossiers: Sign, refuse, or delay">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <rect x="15" y="20" width="50" height="60" fill="#8B4513" stroke="#654321" stroke-width="2"/>
                        <line x1="15" y1="35" x2="65" y2="35" stroke="#654321" stroke-width="1"/>
                        <line x1="15" y1="50" x2="65" y2="50" stroke="#654321" stroke-width="1"/>
                        <rect x="25" y="25" width="30" height="8" fill="#F5DEB3" stroke="#333" stroke-width="1"/>
                        <rect x="23" y="40" width="32" height="8" fill="#FFE4B5" stroke="#333" stroke-width="1"/>
                        <rect x="22" y="55" width="33" height="8" fill="#FFDEAD" stroke="#333" stroke-width="1"/>
                    </svg>
                </div>
                
                <!-- Radio -->
                <div class="desk-object radio" id="radio" title="Radio: Broadcast propaganda">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <rect x="20" y="25" width="60" height="50" rx="5" fill="#2C2C2C" stroke="#888" stroke-width="2"/>
                        <circle cx="50" cy="50" r="12" fill="#666" stroke="#999" stroke-width="1"/>
                        <circle cx="50" cy="50" r="8" fill="#444"/>
                        <line x1="50" y1="42" x2="50" y2="35" stroke="#FF6B00" stroke-width="2"/>
                        <line x1="60" y1="45" x2="66" y2="39" stroke="#FF6B00" stroke-width="1.5"/>
                        <line x1="40" y1="45" x2="34" y2="39" stroke="#FF6B00" stroke-width="1.5"/>
                    </svg>
                </div>
                
                <!-- Typewriter -->
                <div class="desk-object typewriter" id="typewriter" title="Typewriter: Write decrees">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <rect x="10" y="30" width="80" height="50" rx="3" fill="#1a1a1a" stroke="#666" stroke-width="2"/>
                        <line x1="15" y1="50" x2="85" y2="50" stroke="#888" stroke-width="2"/>
                        <circle cx="25" cy="65" r="4" fill="#555"/>
                        <circle cx="40" cy="65" r="4" fill="#555"/>
                        <circle cx="55" cy="65" r="4" fill="#555"/>
                        <circle cx="70" cy="65" r="4" fill="#555"/>
                        <rect x="20" y="52" width="60" height="3" fill="#999"/>
                    </svg>
                </div>
                
                <!-- Safe/Vault -->
                <div class="desk-object safe" id="safe" title="Safe: Store secret resources">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <rect x="15" y="15" width="70" height="70" rx="5" fill="#444" stroke="#888" stroke-width="2"/>
                        <circle cx="50" cy="50" r="20" fill="#333" stroke="#666" stroke-width="2"/>
                        <circle cx="50" cy="50" r="14" fill="#222" stroke="#444" stroke-width="1"/>
                        <g id="dial-marks">
                            <line x1="50" y1="36" x2="50" y2="32" stroke="#888" stroke-width="1"/>
                            <line x1="64" y1="50" x2="68" y2="50" stroke="#888" stroke-width="1"/>
                            <line x1="50" y1="64" x2="50" y2="68" stroke="#888" stroke-width="1"/>
                        </g>
                        <circle cx="50" cy="50" r="2" fill="#FF6B00"/>
                    </svg>
                </div>

                <!-- Status indicator -->
                <div id="action-indicator" class="action-indicator" style="display:none;"></div>
            </div>
        </div>

        <!-- Top Status Bar -->
        <div id="top-bar">
            <div class="gauge-display">
                <div class="gauge">
                    <label>DAY</label>
                    <span id="day-counter">1</span>
                </div>
                <div class="gauge paranoia">
                    <label>PARANOIA</label>
                    <div class="gauge-bar">
                        <div id="paranoia-bar" class="gauge-fill"></div>
                    </div>
                    <span id="paranoia-value">20</span>/100
                </div>
                <div class="gauge stability">
                    <label>STABILITY</label>
                    <div class="gauge-bar">
                        <div id="stability-bar" class="gauge-fill"></div>
                    </div>
                    <span id="stability-value">60</span>/100
                </div>
                <div class="gauge resources">
                    <label>RESOURCES</label>
                    <div class="gauge-bar">
                        <div id="resources-bar" class="gauge-fill"></div>
                    </div>
                    <span id="resources-value">100</span>/100
                </div>
                <button id="next-day-btn" class="btn-next-day">NEXT DAY ➜</button>
            </div>
        </div>

        <!-- Left Sidebar: Factions -->
        <div id="left-sidebar" class="sidebar">
            <h3>FACTIONS</h3>
            <div id="faction-list"></div>
        </div>

        <!-- Right Sidebar: Log -->
        <div id="right-sidebar" class="sidebar">
            <h3>JOURNAL</h3>
            <div id="log-container"></div>
        </div>

        <!-- Dossier Detail Modal -->
        <div id="dossier-modal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="modal-title"></h2>
                <p id="modal-description"></p>
                <div id="modal-info"></div>
                <div id="modal-buttons" class="button-group">
                    <button id="sign-btn" class="btn sign">✓ SIGN</button>
                    <button id="refuse-btn" class="btn refuse">✗ REFUSE</button>
                    <button id="delay-btn" class="btn delay">⏱ DELAY</button>
                </div>
            </div>
        </div>

        <!-- Action Result Modal -->
        <div id="action-modal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="close" id="action-close">&times;</span>
                <h2 id="action-title"></h2>
                <p id="action-text"></p>
                <button id="action-ok-btn" class="btn-large">OK</button>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div id="game-over-modal" class="modal" style="display:none;">
            <div class="modal-content">
                <h2>GAME OVER</h2>
                <p id="game-over-reason"></p>
                <button id="restart-btn" class="btn-large">RESTART</button>
            </div>
        </div>

        <!-- Tooltip -->
        <div id="tooltip" class="tooltip" style="display:none;"></div>
    </div>

    <script src="game.js"></script>
    <script src="autotest.js"></script>
</body>
</html>


